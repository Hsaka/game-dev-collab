[gd_scene load_steps=18 format=3 uid="uid://v0jjsyan6tqb"]

[ext_resource type="Script" path="res://path_level/path_level.gd" id="1_drjvm"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="1_xs655"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3D.gd" id="2_xe0q7"]
[ext_resource type="Script" path="res://path_level/camera_move.gd" id="3_hjnxn"]
[ext_resource type="Script" path="res://path_level/enemy_path.gd" id="3_nujw2"]

[sub_resource type="Curve3D" id="Curve3D_du84n"]
_data = {
"points": PackedVector3Array(13.1203, 0, 12.2456, -13.1203, 0, -12.2456, 18.932, 0, -13.635, -7.5853, 0, -11.0619, 7.5853, 0, 11.0619, 3.94389, 5.34952e-05, -5.67309, 10.737, 0, 1.607, -10.737, 0, -1.607, -8.98491, 5.34952e-05, 11.4044, -9.451, -1, 0.064, 9.451, 1, -0.064, -8.058, 2.5, -3.651, -2.885, 1, -3.475, 2.885, -1, 3.475, 8.067, 3, 8.496, -6.29467, 0, -0.26228, 6.29467, 0, 0.26228, 19.935, 0, 15.119),
"tilts": PackedFloat32Array(0, 0, 0, -0.37139, -0.396738, -0.568886)
}
point_count = 6

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4xg36"]
albedo_color = Color(0, 0.568627, 0.117647, 1)

[sub_resource type="BoxMesh" id="BoxMesh_ujonl"]
material = SubResource("StandardMaterial3D_4xg36")

[sub_resource type="BoxMesh" id="BoxMesh_0te3y"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jdn6k"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_gy8eo"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5y8mk"]
albedo_color = Color(0, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_j33iy"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dhga7"]
albedo_color = Color(0.0117647, 0.235294, 0.00392157, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_somrm"]
albedo_color = Color(0.294118, 0.294118, 0.294118, 1)
metallic = 0.51
metallic_specular = 0.78
roughness = 0.55

[sub_resource type="BoxMesh" id="BoxMesh_uj28y"]

[sub_resource type="Curve3D" id="Curve3D_1r4fn"]
_data = {
"points": PackedVector3Array(9.14237, 0, 10.9709, -9.14237, 0, -10.9709, 16.1095, 3.00005, -10.1495, -8.41099, 1, -10.6052, 6.729, -1, 8.484, 8.70413, 3.00005, -4.66412, 11.3331, 0, 1.77606, -11.3331, 0, -1.77606, -9.539, 3, 17.122, -9.345, -1, -0.907, 9.345, 1, 0.907, -7.551, 6, 2.619, -3.766, 1, -5.37, 3.766, -1, 5.37, 5.734, 6, 13.663, -4.95154, 0, -0.139481, 4.95154, 0, 0.139481, 19.647, 3, 20.727),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0)
}
point_count = 6

[node name="path_level" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.344551, 0)
script = ExtResource("1_drjvm")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.88385, 0.25462, -0.392383, 0, 0.83886, 0.544344, 0.467757, -0.481119, 0.741429, 16.1095, 3.00005, -10.1495)

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
script = ExtResource("1_xs655")

[node name="enemy_path" type="Path3D" parent="."]
curve = SubResource("Curve3D_du84n")
script = ExtResource("3_nujw2")

[node name="camera_follow" type="PathFollow3D" parent="enemy_path"]
transform = Transform3D(0.663747, 7.54539e-08, 0.747942, 1.28124e-09, 1, -1.02017e-07, -0.747942, 6.86732e-08, 0.663747, 18.2721, 4.5038e-08, -14.2358)
progress = 0.892418

[node name="target" type="Node3D" parent="enemy_path/camera_follow"]

[node name="PathFollow3D" type="PathFollow3D" parent="enemy_path"]
transform = Transform3D(0.663747, 7.54539e-08, 0.747942, 1.28124e-09, 1, -1.02017e-07, -0.747942, 6.86732e-08, 0.663747, 18.2721, 4.5038e-08, -14.2358)
progress = 0.892418

[node name="Node3D" type="Node3D" parent="enemy_path/PathFollow3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="enemy_path/PathFollow3D/Node3D"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 0, 0)
mesh = SubResource("BoxMesh_ujonl")

[node name="start" type="MeshInstance3D" parent="enemy_path"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 3.14655, 0, -4.03213)
mesh = SubResource("BoxMesh_0te3y")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_jdn6k")

[node name="end" type="MeshInstance3D" parent="enemy_path"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, -3.27653, 0, 1.93861)
mesh = SubResource("BoxMesh_gy8eo")
skeleton = NodePath("../start")
surface_material_override/0 = SubResource("StandardMaterial3D_5y8mk")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.906377, 0.416772, 0.0691446, -0.306559, 0.536215, 0.786444, 0.290692, -0.734012, 0.613779, 21.3892, 5.57267, 1.83407)
shadow_enabled = true

[node name="ground" type="MeshInstance3D" parent="."]
transform = Transform3D(40, 0, 0, 0, 1, 0, 0, 0, 40, 0, -0.75, -1.696)
mesh = SubResource("BoxMesh_j33iy")
surface_material_override/0 = SubResource("StandardMaterial3D_dhga7")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.192282, 0.98134, 0, -0.98134, 0.192282, 0, 23.0791, 0.924223)
light_energy = 7.27
spot_range = 42.5301
spot_angle = 36.3063

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.351924, 0)
material_override = SubResource("StandardMaterial3D_somrm")
polygon = PackedVector2Array(-1, -0.25, -1, -0.2, 1, -0.2, 1, -0.25)
mode = 2
path_node = NodePath("../enemy_path")
path_interval_type = 0
path_interval = 0.64
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.12905, 0, 0)
mesh = SubResource("BoxMesh_uj28y")

[node name="camera_path" type="Path3D" parent="."]
curve = SubResource("Curve3D_1r4fn")
script = ExtResource("3_hjnxn")

[node name="PathFollow3D" type="PathFollow3D" parent="camera_path"]
transform = Transform3D(0.768218, 0, 0.640179, 0, 0.999998, 0, -0.640178, 0, 0.768218, 16.1095, 3.00005, -10.1495)

[node name="PhantomCamera3D" type="Node3D" parent="camera_path/PathFollow3D"]
transform = Transform3D(0.379547, 0.503612, -0.776093, 0, 0.838862, 0.544345, 0.925172, -0.206604, 0.318388, 0, 0, 0)
script = ExtResource("2_xe0q7")
priority_override = false
priority = 0
follow_mode = 0
look_at_mode = 2
look_at_target = NodePath("../../../enemy_path/camera_follow/target")
look_at_parameters/look_at_target_offset = Vector3(0, 0, 0)
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0
camera_3D_resource = null

[node name="left" type="Button" parent="camera_path"]
offset_left = 887.0
offset_top = 60.0
offset_right = 987.0
offset_bottom = 160.0
text = "<"

[node name="right" type="Button" parent="camera_path"]
offset_left = 1015.0
offset_top = 60.0
offset_right = 1115.0
offset_bottom = 160.0
text = ">"

[connection signal="button_down" from="camera_path/left" to="." method="_on_left_button_down"]
[connection signal="button_up" from="camera_path/left" to="." method="_on_left_button_up"]
[connection signal="button_down" from="camera_path/right" to="." method="_on_right_button_down"]
[connection signal="button_up" from="camera_path/right" to="." method="_on_right_button_up"]
